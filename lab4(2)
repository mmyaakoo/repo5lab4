using System;
using System.Collections.Generic;

// Базовий клас для комп'ютера
class Комп'ютер
{
    public string IPАдреса { get; set; }
    public int Потужність { get; set; }
    public string ТипОС { get; set; }

    public Комп'ютер(string ipАдреса, int потужність, string типОС)
    {
        IPАдреса = ipАдреса;
        Потужність = потужність;
        ТипОС = типОС;
    }
}

// Клас для сервера
class Сервер : Комп'ютер
{
    public int КількістьПідключенихКлієнтів { get; set; }

    public Сервер(string ipАдреса, int потужність, string типОС, int кількістьПідключенихКлієнтів)
        : base(ipАдреса, потужність, типОС)
    {
        КількістьПідключенихКлієнтів = кількістьПідключенихКлієнтів;
    }
}

// Клас для робочої станції
class РобочаСтанція : Комп'ютер
{
    public string Користувач { get; set; }

    public РобочаСтанція(string ipАдреса, int потужність, string типОС, string користувач)
        : base(ipАдреса, потужність, типОС)
    {
        Користувач = користувач;
    }
}

// Клас для маршрутизатора
class Маршрутизатор : Комп'ютер
{
    public int КількістьПідключенихПристроїв { get; set; }

    public Маршрутизатор(string ipАдреса, int потужність, string типОС, int кількістьПідключенихПристроїв)
        : base(ipАдреса, потужність, типОС)
    {
        КількістьПідключенихПристроїв = кількістьПідключенихПристроїв;
    }
}

// Інтерфейс для підключення до мережі
interface IConnectable
{
    void Підключити(Комп'ютер комп);
    void Відключити(Комп'ютер комп);
    void ПередатиДані(Комп'ютер відправник, Комп'ютер отримувач, string дані);
}

// Клас для моделювання мережі
class Мережа : IConnectable
{
    private List<Комп'ютер> комп'ютери;

    public Мережа()
    {
        комп'ютери = new List<Комп'ютер>();
    }

    public void Підключити(Комп'ютер комп)
    {
        комп'ютери.Add(комп);
        Console.WriteLine($"Комп'ютер {ком.IPАдреса} підключено до мережі.");
    }

    public void Відключити(Комп'ютер комп)
    {
        комп'ютери.Remove(комп);
        Console.WriteLine($"Комп'ютер {ком.IPАдреса} відключено від мережі.");
    }

    public void ПередатиДані(Комп'ютер відправник, Комп'ютер отримувач, string дані)
    {
        if (комп'ютери.Contains(відправник) && комп'ютери.Contains(отримувач))
        {
            Console.WriteLine($"Дані від {відправник.IPАдреса} до {отримувач.IPАдреса}: {дані}");
        }
        else
        {
            Console.WriteLine("Помилка передачі даних: один з комп'ютерів не підключено до мережі.");
        }
    }
}

class Program
{
    static void Main()
    {
        Мережа мережа = new Мережа();

        Сервер сервер = new Сервер("192.168.1.1", 1000, "Windows Server", 10);
        РобочаСтанція робочаСтанція = new РобочаСтанція("192.168.1.2", 500, "Windows 10", "Користувач1");
        Маршрутизатор маршрутизатор = new Маршрутизатор("192.168.1.3", 200, "OpenWRT", 5);

        мережа.Підключити(сервер);
        мережа.Підключити(робочаСтанція);
        мережа.Підключити(маршрутизатор);

        мережа.ПередатиДані(сервер, робочаСтанція, "Привіт, це сервер!");
        мережа.ПередатиДані(робочаСтанція, сервер, "Привіт, це робоча станція!");

        мережа.Відключити(робочаСтанція);
    }
}
